import{b as P,c as O,f as b,g as k,h as E,i as v,j as L}from"./chunk-4MOB2BL5.js";import"./chunk-ZSOTIB6M.js";import"./chunk-QUJFQN2Y.js";import"./chunk-PNU55KQX.js";import"./chunk-R7RQI7M3.js";import"./chunk-VUH2IQML.js";import"./chunk-RHXWMQCZ.js";import"./chunk-TQHZEFAJ.js";import"./chunk-PMQ7DKCE.js";import"./chunk-7FY2OE2O.js";import"./chunk-5IBUARSR.js";import"./chunk-6DRSHNH5.js";import"./chunk-GDZZTVDN.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-3N4R2UCY.js";import"./chunk-CKP3SGE2.js";import"./chunk-HIJ4VTVH.js";import{B as a,C as s,K as f,Ma as C,Na as w,Qa as I,S as h,V as m,W as u,X as d,d as _,fa as S,la as y,p as c,r as p,t as M}from"./chunk-MDQKYX7I.js";import"./chunk-IGVXFY24.js";import"./chunk-5TIAO6TV.js";import"./chunk-BANGDX2W.js";import"./chunk-FZQDFHAZ.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as g}from"./chunk-JHI3MBHO.js";var W=(()=>{let o=class o{constructor(){this.initMockUsers()}initMockUsers(){if(!localStorage.getItem("usuarios")){let n=[{id:1,nome:"Usu\xE1rio Teste",email:"teste@teste.com",senha:"123456"}];localStorage.setItem("usuarios",JSON.stringify(n))}}login(n,i){return g(this,null,function*(){let r=JSON.parse(localStorage.getItem("usuarios")||"[]").find(e=>e.email===n&&e.senha===i);if(!r)throw new Error("Login inv\xE1lido");return localStorage.setItem("usuarioLogado",JSON.stringify(r)),r})}register(n,i,t){return g(this,null,function*(){let r=JSON.parse(localStorage.getItem("usuarios")||"[]");if(r.find(T=>T.email===i))throw new Error("Email j\xE1 cadastrado");let e={id:r.length+1,nome:n,email:i,senha:t};return r.push(e),localStorage.setItem("usuarios",JSON.stringify(r)),e})}getUsuarioLogado(){return JSON.parse(localStorage.getItem("usuarioLogado")||"null")}logout(){localStorage.removeItem("usuarioLogado")}estaLogado(){return localStorage.getItem("usuarioLogado")!==null}};o.\u0275fac=function(i){return new(i||o)},o.\u0275prov=_({token:o,factory:o.\u0275fac,providedIn:"root"});let l=o;return l})();var D=(()=>{let o=class o{constructor(n,i,t){this.authService=n,this.router=i,this.alertCtrl=t,this.nome="",this.email="",this.senha="",this.confirmarSenha=""}register(){return g(this,null,function*(){if(!this.nome||!this.email||!this.senha||!this.confirmarSenha)return this.showAlert("Preencha todos os campos.");if(this.senha!==this.confirmarSenha)return this.showAlert("As senhas n\xE3o conferem.");try{yield this.authService.register(this.nome,this.email,this.senha),(yield this.alertCtrl.create({header:"Sucesso",message:"Conta criada com sucesso! Fa\xE7a login para continuar.",buttons:["OK"]})).present(),this.router.navigateByUrl("/login",{replaceUrl:!0})}catch(n){this.showAlert(n.message||"Erro ao criar conta. Email j\xE1 cadastrado.")}})}showAlert(n){return g(this,null,function*(){(yield this.alertCtrl.create({header:"Aten\xE7\xE3o",message:n,buttons:["OK"]})).present()})}goToLogin(){this.router.navigateByUrl("/login")}};o.\u0275fac=function(i){return new(i||o)(p(W),p(y),p(v))},o.\u0275cmp=M({type:o,selectors:[["app-register"]],decls:16,vars:4,consts:[[1,"register-page"],[1,"register-container"],["lines","none"],["label","Nome","type","text",3,"ngModelChange","ngModel"],["label","Email","type","email",3,"ngModelChange","ngModel"],["label","Senha","type","password",3,"ngModelChange","ngModel"],["label","Confirmar senha","type","password",3,"ngModelChange","ngModel"],["expand","block","color","success",3,"click"],[1,"link",3,"click"]],template:function(i,t){i&1&&(a(0,"ion-content",0)(1,"div",1)(2,"h1"),h(3,"Criar conta"),s(),a(4,"ion-item",2)(5,"ion-input",3),d("ngModelChange",function(e){return u(t.nome,e)||(t.nome=e),e}),s()(),a(6,"ion-item",2)(7,"ion-input",4),d("ngModelChange",function(e){return u(t.email,e)||(t.email=e),e}),s()(),a(8,"ion-item",2)(9,"ion-input",5),d("ngModelChange",function(e){return u(t.senha,e)||(t.senha=e),e}),s()(),a(10,"ion-item",2)(11,"ion-input",6),d("ngModelChange",function(e){return u(t.confirmarSenha,e)||(t.confirmarSenha=e),e}),s()(),a(12,"ion-button",7),f("click",function(){return t.register()}),h(13," Criar conta "),s(),a(14,"p",8),f("click",function(){return t.goToLogin()}),h(15,"J\xE1 tenho conta"),s()()()),i&2&&(c(5),m("ngModel",t.nome),c(2),m("ngModel",t.email),c(2),m("ngModel",t.senha),c(2),m("ngModel",t.confirmarSenha))},dependencies:[S,L,O,b,k,E,P,I,C,w],styles:[".register-page[_ngcontent-%COMP%]{--background: #000;color:#fff}.register-page[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{padding:24px;margin-top:50px}.register-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px;font-size:28px;font-weight:700;color:#32cd32}.register-page[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:18px;--background: #111;--color: #fff;border-radius:8px}.register-page[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:50px;margin-top:20px;--background: #32cd32;--color: #000;font-weight:700}.register-page[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-top:16px;text-align:center;color:#32cd32;text-decoration:underline;cursor:pointer}"]});let l=o;return l})();export{D as RegisterPage};
